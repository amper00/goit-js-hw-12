{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport './css/styles.css'; \nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Opisany w dokumentacji\nimport SimpleLightbox from \"simplelightbox\";\n// Opcjonalny import styl√≥w\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\ndocument.getElementById('search-form').addEventListener('submit', event => {\n    event.preventDefault();\n    const query = document.getElementById('search-query').value;\n    fetchImages(query);\n});\n\nfunction fetchImages(query) {\n    const loader = document.querySelector('.loader');\n     loader.classList.remove('hidden');\n    loader.style.display = 'block'; //\n    const apiKey = '44974018-ca766bb5bf44f97c206908e6f'; \n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(data => {\n            loader.classList.add('hidden');\n            loader.style.display = 'none';\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Przepraszamy, nie ma obraz√≥w zgodnych z wyszukiwaniem. Spr√≥buj ponownie!'\n                });\n            } else {\n                displayImages(data.hits);\n            }\n        })\n        .catch(error => {\n            loader.classList.add('hidden');\n            loader.style.display = 'none'; \n            \n            iziToast.error({\n                title: 'Error',\n                message: `There was a problem with the fetch operation: ${error}`\n                \n            });\n            console.log(error);\n        });\n}\n function displayImages(images) {\n        const gallery = document.querySelector('.gallery');\n        gallery.innerHTML = '';\n\n        const items = images.map(image => {\n            const li = document.createElement(\"li\");\n            li.classList.add(\"gallery-item\");\n\n            const a = document.createElement(\"a\");\n            a.classList.add(\"gallery-link\");\n            a.href = image.largeImageURL;\n            a.setAttribute('data-lightbox', 'gallery');\n            a.setAttribute('data-title', `‚ù§Ô∏è ${image.likes} üëÅÔ∏è ${image.views} üí¨ ${image.comments} ‚¨áÔ∏è ${image.downloads}`);\n\n            const img = document.createElement(\"img\");\n            img.classList.add(\"gallery-image\");\n            img.src = image.webformatURL;\n            img.alt = image.tags;\n\n             const underDiv = document.createElement(\"div\");\n        underDiv.classList.add(\"image-info\");\n         underDiv.innerHTML = `\n            <div class = \"info\"><span>Likes</span> ${image.likes}</div>\n            <div class = \"info\"><span>Views</span> ${image.views}</div>\n            <div class = \"info\"><span>Comments</span> ${image.comments}</div>\n            <div class = \"info\"><span>Downloads</span> ${image.downloads}</div>\n        `;\n\n        a.appendChild(img);\n        li.appendChild(a);\n        li.appendChild(underDiv);\n\n        return li;\n        });\nitems.forEach(item => gallery.appendChild(item));\n    // Initialize SimpleLightbox\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n}"],"names":["event","query","fetchImages","loader","url","response","data","iziToast","displayImages","error","images","gallery","image","li","a","img","underDiv","item","SimpleLightbox"],"mappings":"6vBASA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAUA,GAAS,CACvEA,EAAM,eAAc,EACpB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAAE,MACtDC,EAAYD,CAAK,CACrB,CAAC,EAED,SAASC,EAAYD,EAAO,CACxB,MAAME,EAAS,SAAS,cAAc,SAAS,EAC9CA,EAAO,UAAU,OAAO,QAAQ,EACjCA,EAAO,MAAM,QAAU,QAEvB,MAAMC,EAAM,qEAA4CH,CAAK,2DAE7D,MAAMG,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACVH,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,MAAM,QAAU,OACnBG,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDC,EAAcF,EAAK,IAAI,CAEvC,CAAS,EACA,MAAMG,GAAS,CACZN,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,MAAM,QAAU,OAEvBI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDAAiDE,CAAK,EAE/E,CAAa,EACD,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT,CACC,SAASD,EAAcE,EAAQ,CACxB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEND,EAAO,IAAIE,GAAS,CAC9B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAE/B,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,UAAU,IAAI,cAAc,EAC9BA,EAAE,KAAOF,EAAM,cACfE,EAAE,aAAa,gBAAiB,SAAS,EACzCA,EAAE,aAAa,aAAc,MAAMF,EAAM,KAAK,QAAQA,EAAM,KAAK,OAAOA,EAAM,QAAQ,OAAOA,EAAM,SAAS,EAAE,EAE9G,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEf,MAAMI,EAAW,SAAS,cAAc,KAAK,EAClD,OAAAA,EAAS,UAAU,IAAI,YAAY,EAClCA,EAAS,UAAY;AAAA,qDACuBJ,EAAM,KAAK;AAAA,qDACXA,EAAM,KAAK;AAAA,wDACRA,EAAM,QAAQ;AAAA,yDACbA,EAAM,SAAS;AAAA,UAGhEE,EAAE,YAAYC,CAAG,EACjBF,EAAG,YAAYC,CAAC,EAChBD,EAAG,YAAYG,CAAQ,EAEhBH,CACf,CAAS,EACH,QAAQI,GAAQN,EAAQ,YAAYM,CAAI,CAAC,EAE1B,IAAIC,EAAe,aAAc,CAC9C,YAAa,OACb,aAAc,MACd,aAAc,GACtB,CAAK,CACL"}